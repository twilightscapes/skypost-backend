# SkyPost Extension - Store Submission Guide

**App Name:** SkyPost  
**Website:** https://skypost.app  
**Current Version:** 1.1.3

This guide covers submission to Chrome Web Store, Firefox Add-ons, and Safari App Store.

---

## 1. FIREFOX ADD-ONS (AMO)

### Prerequisites
- Mozilla Firefox Account (sign up at addons.mozilla.org)
- Extension must be packaged as `.xpi` file
- Already have an AdBlock extension on the store ✓

### Submission Steps

#### Step 1: Prepare Your Build
```bash
# Your Firefox build is ready at:
firefox-extension/dist/  # or the .xpi file
```

The XPI file is already generated by your build script.

#### Step 2: Create/Update Listing
1. Go to https://addons.mozilla.org/en-US/developers/
2. Click "Submit a New Add-on" or edit existing SkyPost listing
3. Upload the `.xpi` file from `firefox-extension/` root directory

#### Step 3: Fill Required Fields
- **Name:** SkyPost
- **Summary:** Post Composer and Scheduler for Bluesky
- **Description:** 
  ```
  SkyPost is a powerful Bluesky extension that enables users to:
  - Create and edit posts with rich formatting
  - Schedule posts for future publication
  - Manage post analytics and engagement
  - Compose multiple drafts simultaneously
  - Link preview and custom metadata
  ```
- **Category:** Productivity
- **License:** Choose appropriate (MIT/Apache 2.0 recommended)
- **Website:** https://skypost.app
- **Support Email:** your-support@skypost.app
- **Privacy Policy URL:** https://skypost.app/privacy

#### Step 4: Content Rating
- Sign content rating form (IARC)
- Select appropriate ratings for your extension

#### Step 5: Version History
- Add release notes for v1.1.3:
  ```
  - Blue highlight for active filter tabs
  - Improved color filter visibility
  - Enhanced hashtag detection for video posts
  - Fixed session storage synchronization
  - Better link preview handling
  ```

#### Step 6: Review & Publish
- Firefox team reviews (typically 1-5 days)
- Once approved, extension goes live automatically

### Important Notes
- Firefox requires source code submission if using minified code
- Your extension uses Manifest V3 ✓
- Host permissions should be justified in description
- No pre-release versions allowed on main store

### Resubmission
Since you already have AdBlock listed, you can:
1. Keep both extensions separate (recommended)
2. Update existing if it's a version of the same app
3. Contact Mozilla support if unsure about listing

---

## 2. CHROME WEB STORE

### Prerequisites
- Google Developer Account ($5 one-time fee)
- Already have AdBlock on Chrome Web Store ✓
- Extension packaged as `.zip` (Chrome Web Store handles packaging)

### Submission Steps

#### Step 1: Prepare Your Build
```bash
# Create a ZIP file from your dist directory:
cd safari-extension-pro/dist
zip -r skypost-chrome.zip .
# Or use your build script to output .zip
```

**Note:** Chrome and Safari extensions use the same WebExtension code, just different packaging.

#### Step 2: Create New Item in Chrome Web Store
1. Go to https://chrome.google.com/webstore/devconsole
2. Click "New Item"
3. Upload the ZIP file

#### Step 3: Fill Store Listing
- **Name:** SkyPost
- **Short Description:** (max 132 chars)
  ```
  Post composer and scheduler for Bluesky social media
  ```
- **Detailed Description:**
  ```
  SkyPost is the ultimate extension for Bluesky users who want to:
  
  ✓ Compose posts with rich formatting, images, and links
  ✓ Schedule posts to publish at optimal times
  ✓ Track post performance with built-in analytics
  ✓ Manage multiple drafts simultaneously
  ✓ Auto-detect video links with hashtag suggestions
  ✓ Save link previews with custom metadata
  
  Perfect for content creators, community managers, and power users.
  ```

#### Step 4: Upload Graphics
- **Icon (128x128px):** Logo for store
- **Screenshot (1280x800px):** Show main UI
- **Promotional Tile (440x280px):** Optional
- All images must be PNG or JPG

#### Step 5: Categorize
- **Category:** Productivity
- **Content rating:** Select appropriate (likely low risk)

#### Step 6: Privacy & Permissions
In the "Additional fields" section:
- **Privacy policy:** https://skypost.app/privacy
- **Support website:** https://skypost.app
- **Homepage:** https://skypost.app

Justify these permissions:
- **Storage:** Saving user notes, session data, and post history locally
- **Tabs:** Detecting YouTube links and media from open tabs
- **Host permissions:** Fetching link previews and metadata from websites

#### Step 7: Publish
1. Review all details
2. Click "Submit for Review"
3. Google reviews (typically 1-3 hours)

### Important Notes
- Chrome Web Store uses ZIP, not raw files
- Manifest V3 required ✓
- No external scripts allowed in content scripts
- All resources must be bundled in extension

### Managing Multiple Extensions
Since you have AdBlock already:
1. Create separate Developer Account items for each extension
2. Both can coexist on store
3. Use different IDs (Chrome auto-generates)

---

## 3. SAFARI APP STORE (macOS)

### This is More Complex - Two Approaches

#### APPROACH A: Safari Web Extension (Easier)
This is what you likely have. Safari extensions run on modern Safari (15+).

**Prerequisites:**
- Mac Developer Account ($99/year Apple Developer Program)
- Xcode installed
- Notarization certificate from Apple

**Steps:**

1. **Create Safari App Wrapper**
   ```bash
   # Safari extensions must be in an app bundle
   # You need to create a macOS app that contains the extension
   
   # Basic structure:
   SkyPost.app/
   └── Contents/
       ├── Info.plist
       ├── MacOS/
       │   └── SkyPost (executable)
       ├── Resources/
       └── Frameworks/
   ```

2. **Use Xcode to Build**
   - Open Xcode
   - Create new macOS App project
   - Integrate your extension files
   - Set bundle ID: `com.skypost.app.SkyPost`

3. **Sign & Notarize**
   ```bash
   # Code sign with your developer certificate
   codesign -s 'Developer ID Application' SkyPost.app
   
   # Notarize with Apple
   xcrun altool --notarize-app -f SkyPost.app -t macOS \
     -u your-apple-id@example.com
   ```

4. **Submit to App Store**
   - Use Transporter (free Mac app from App Store)
   - or via command line:
   ```bash
   xcrun altool --upload-app -f SkyPost.app -t macOS \
     -u your-apple-id@example.com
   ```

#### APPROACH B: Submit as Safari Web Extension
Simpler if Apple accepts it as web extension directly:

1. **Package as Safari Extension (.safariextz)**
   - Use Safari App Extension Builder in Xcode
   - Export signed `.safariextz` file

2. **Submit to App Store**
   - Use Transporter
   - Requires app bundle (same process as Approach A)

### Why Safari is More Complex
- Safari doesn't have a dedicated "Web Store" like Chrome/Firefox
- Must be distributed through Mac App Store or directly signed
- Requires Apple Developer membership ($99/year)
- Code signing and notarization are mandatory
- App must be in a macOS app bundle

### Recommended Path for Safari
1. Keep extension development as is
2. Create minimal macOS app wrapper using Xcode
3. Set extension as the main feature
4. Bundle and submit to App Store

---

## 4. BUILD OUTPUT STRUCTURE

Create this structure for store submissions:

```
store-submissions/
├── firefox/
│   ├── skypost-v1.1.3.xpi
│   └── source-code.zip (for AMO review)
├── chrome/
│   ├── skypost-v1.1.3.zip
│   └── assets/
│       ├── icon-128.png
│       ├── screenshot-1280x800.png
│       └── promotional-440x280.png
└── safari/
    ├── SkyPost.app (signed & notarized)
    ├── SkyPost.app.zip
    └── README-SAFARI.md
```

---

## 5. BUILD SCRIPTS FOR SUBMISSION

### Firefox
```bash
# Already have XPI - just copy it
cp firefox-extension/skypost-firefox.xpi store-submissions/firefox/skypost-v1.1.3.xpi
```

### Chrome
```bash
cd safari-extension-pro/dist
zip -r ../../store-submissions/chrome/skypost-v1.1.3.zip .
```

### Safari
Requires Xcode and code signing - will need separate setup.

---

## 6. ACCOUNTS & CREDENTIALS NEEDED

| Store | Account | Cost | Link |
|-------|---------|------|------|
| Firefox | Mozilla | Free | https://addons.mozilla.org |
| Chrome | Google Developer | $5 | https://chrome.google.com/webstore/devconsole |
| Safari | Apple Developer | $99/year | https://developer.apple.com |

---

## 7. AFTER SUBMISSION

### Monitoring
- **Firefox:** Check status at https://addons.mozilla.org/en-US/developers/
- **Chrome:** Check at https://chrome.google.com/webstore/devconsole
- **Safari:** Check at https://appstoreconnect.apple.com

### Updates
To push new versions:
1. Update version in `manifest.json`
2. Rebuild: `./build-firefox.sh` and `bash build.sh`
3. Re-upload to each store
4. Each store has their own review process

### Important: Version Management
Keep `manifest.json` in sync:
```json
{
  "version": "1.1.3"  // Increment this for updates
}
```

---

## 8. NEXT STEPS

1. **Firefox:** Ready to submit - your XPI is built
2. **Chrome:** Convert Safari build to ZIP and submit
3. **Safari:** Need to create macOS app wrapper and code sign

Would you like detailed help with any specific platform?
